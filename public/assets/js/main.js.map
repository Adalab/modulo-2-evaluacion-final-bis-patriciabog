{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\nconst usersList = document.querySelector('.js-users');\nconst url =\"https://randomuser.me/api/?results=10\";\nconst btnSave = document.querySelector('.js-btn-save');\nconst btnRecover = document.querySelector('.js-btn-recover');\n\nlet usersData = [];\n\n//1.-Listado de usuarios\n fetch(url)\n   .then(response => response.json())\n   .then(data => {\n      usersData = data.results;\n      renderUserList(usersData); \n   });\n\nfunction renderUserList(usersData) {\n    for(const data of usersData) {\n       usersList.innerHTML += renderUser(data)\n    }\n    addEventToUser()\n}\n\nfunction renderUser(data) {\n   if (data.isFriend === true) {\n    //Si data.isFriend es true (marcado como amigo) pintamos a lista con la clase selected para que le de el color pink  \n      let html = ` <li>\n            <article class=\"user selected js-li-user\" id=${data.login.username}>\n               <h2 class=\"user__name\">${data.name.first} ${data.name.last}</h2>\n               <img class=\"user__img\" src=${data.picture.medium} alt=\"image\"/>\n               <h3 class=\"user__city\">${data.location.city}</h3>\n               <h3 class=\"user__username\">${data.login.username}</h3>\n            <article/>\n         </li>`;\n      return html;\n   }else {\n      //Si No pintamos la lista sin la clase selected\n        let html = ` <li>\n           <article class=\"user js-li-user\" id=${data.login.username}>\n              <h2 class=\"user__name\">${data.name.first} ${data.name.last}</h2>\n              <img class=\"user__img\" src=${data.picture.medium} alt=\"image\"/>\n              <h3 class=\"user__city\">${data.location.city}</h3>\n              <h3 class=\"user__username\">${data.login.username}</h3> \n            <article/>\n        </li>`;\n      return html;\n   }\n}\n\n//2.-Marcar como amigos\nfunction handleClick(ev) {\n   const idSelected = ev.currentTarget.id;\n   const selectedFriend = usersData.find(user => user.login.username === idSelected);\n   //AÃ±adimos la propiedad isFriend = true a los objetos clicados\n   selectedFriend.isFriend = true;\n   document.getElementById(idSelected).classList.toggle('selected');\n   usersList.innerHTML = '';\n   renderUserList(usersData);\n}\n\nfunction addEventToUser() {\n   const liElements = document.querySelectorAll(\".js-li-user\");\n   for(const li of liElements) {\n   li.addEventListener(\"click\", handleClick);\n  }\n}\n\n//3.- Guardar/Recuperar del localStorag\nfunction handleClickSave() {\n   localStorage.setItem(\"usersList\", JSON.stringify (usersData));\n}\n\nfunction handleClickRecover() {\n   usersData = JSON.parse(localStorage.getItem(\"usersList\"));\n   usersList.innerHTML = '';\n   renderUserList(usersData);\n}\n\nbtnSave.addEventListener(\"click\", handleClickSave)\nbtnRecover.addEventListener(\"click\", handleClickRecover)\n"]}